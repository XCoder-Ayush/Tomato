{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Asus/Desktop/Tomato/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CartItem } from 'src/app/shared/models/CartItem';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../food/food.service\";\nexport class FoodcartService {\n  constructor(foodService) {\n    this.foodService = foodService;\n    this.cartItemList = [];\n    this.foodList = [];\n  }\n\n  ngOnInit() {\n    this.initCartItems();\n  }\n\n  initCartItems() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(\"In Cart Service\");\n      yield _this.foodService.getAllFoodItemsSync().then(resp => {\n        _this.foodList = resp;\n      }); // console.log(this.foodList);\n\n      for (let food of _this.foodList) {\n        let cartItem = new CartItem(food);\n\n        _this.cartItemList.push(cartItem);\n      }\n\n      console.log(_this.cartItemList);\n    })();\n  }\n\n  setCartItems(cartItems) {\n    this.cartItemList = cartItems;\n    console.log('NEW CART ' + this.cartItemList);\n  }\n\n  getCartItems() {\n    if (this.cartItemList.length == 0) this.initCartItems();\n    return this.cartItemList;\n  }\n\n  clearCartItems() {\n    this.cartItemList = [];\n    this.initCartItems();\n  }\n\n}\n\nFoodcartService.ɵfac = function FoodcartService_Factory(t) {\n  return new (t || FoodcartService)(i0.ɵɵinject(i1.FoodService));\n};\n\nFoodcartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FoodcartService,\n  factory: FoodcartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AACA,SAASA,QAAT,QAAyB,gCAAzB;;;AAOA,OAAM,MAAOC,eAAP,CAAsB;EAK1BC,YAAoBC,WAApB,EAA6C;IAAzB;IAHpB,oBAA0B,EAA1B;IACA,gBAAgB,EAAhB;EAEgD;;EAEhDC,QAAQ;IACN,KAAKC,aAAL;EACD;;EACKA,aAAa;IAAA;;IAAA;MACjBC,OAAO,CAACC,GAAR,CAAY,iBAAZ;MAEA,MAAM,KAAI,CAACJ,WAAL,CAAiBK,mBAAjB,GAAuCC,IAAvC,CAA6CC,IAAD,IAAQ;QACxD,KAAI,CAACC,QAAL,GAAcD,IAAd;MACD,CAFK,CAAN,CAHiB,CAMjB;;MACA,KAAI,IAAIE,IAAR,IAAgB,KAAI,CAACD,QAArB,EAA8B;QAC5B,IAAIE,QAAQ,GAAY,IAAIb,QAAJ,CAAaY,IAAb,CAAxB;;QACA,KAAI,CAACE,YAAL,CAAkBC,IAAlB,CAAuBF,QAAvB;MACD;;MACDP,OAAO,CAACC,GAAR,CAAY,KAAI,CAACO,YAAjB;IAXiB;EAYlB;;EAEDE,YAAY,CAACC,SAAD,EAAuB;IACjC,KAAKH,YAAL,GAAkBG,SAAlB;IACAX,OAAO,CAACC,GAAR,CAAY,cAAc,KAAKO,YAA/B;EACD;;EACDI,YAAY;IACV,IAAG,KAAKJ,YAAL,CAAkBK,MAAlB,IAA0B,CAA7B,EAA+B,KAAKd,aAAL;IAC/B,OAAO,KAAKS,YAAZ;EACD;;EACDM,cAAc;IACZ,KAAKN,YAAL,GAAkB,EAAlB;IACA,KAAKT,aAAL;EACD;;AAnCyB;;;mBAAfJ,iBAAeoB;AAAA;;;SAAfpB;EAAeqB,SAAfrB,eAAe;EAAAsB,YAFd","names":["CartItem","FoodcartService","constructor","foodService","ngOnInit","initCartItems","console","log","getAllFoodItemsSync","then","resp","foodList","food","cartItem","cartItemList","push","setCartItems","cartItems","getCartItems","length","clearCartItems","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Asus\\Desktop\\Tomato\\src\\app\\services\\foodcart\\foodcart.service.ts"],"sourcesContent":["import { Injectable, OnInit } from '@angular/core';\nimport { CartItem } from 'src/app/shared/models/CartItem';\nimport { Food } from 'src/app/shared/models/food';\nimport { FoodService } from '../food/food.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FoodcartService implements OnInit{\n\n  cartItemList : CartItem[]=[];\n  foodList:Food[]=[];\n\n  constructor(private foodService : FoodService){}\n\n  ngOnInit(): void{\n    this.initCartItems();\n  }\n  async initCartItems(){\n    console.log(\"In Cart Service\");\n    \n    await this.foodService.getAllFoodItemsSync().then((resp)=>{\n      this.foodList=resp;\n    })\n    // console.log(this.foodList);\n    for(let food of this.foodList){\n      let cartItem : CartItem=new CartItem(food);\n      this.cartItemList.push(cartItem);\n    }\n    console.log(this.cartItemList);\n  }\n\n  setCartItems(cartItems : CartItem[]){\n    this.cartItemList=cartItems;\n    console.log('NEW CART ' + this.cartItemList);\n  }  \n  getCartItems(){\n    if(this.cartItemList.length==0)this.initCartItems();\n    return this.cartItemList;\n  }\n  clearCartItems(){\n    this.cartItemList=[];\n    this.initCartItems();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}