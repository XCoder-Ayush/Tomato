{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Asus/Desktop/Tomato/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api/api.service\";\nexport class FoodService {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.foodList = [];\n  }\n\n  ngOnInit() {\n    this.getAllFoodItems();\n  }\n\n  getAllFoodItemsSync() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let data = yield lastValueFrom(_this.apiService.getAllFoodItems()); // console.log(this.data);\n      // data=await data.json();\n      // this.foodList=data;\n      // console.log(this.foodList);\n\n      console.log(data);\n      return data;\n    })();\n  }\n\n  getAllFoodItems() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.getAllFoodItemsSync();\n      return _this2.foodList;\n    })();\n  }\n\n  getFoodById(id) {\n    return this.foodList.find(food => food.id == id);\n  }\n\n  getAllFoodByTag(tag) {\n    return tag == 'All' ? this.foodList : this.foodList.filter(food => food.tags.includes(tag.toLowerCase().trim()));\n  }\n\n  getAllTag() {\n    // REST API Call\n    return [{\n      name: 'All',\n      count: 8\n    }, {\n      name: 'NonVeg',\n      count: 2\n    }, {\n      name: 'Veg',\n      count: 2\n    }, {\n      name: 'South Indian',\n      count: 1\n    }, {\n      name: 'Birthday',\n      count: 2\n    }];\n  }\n\n}\n\nFoodService.ɵfac = function FoodService_Factory(t) {\n  return new (t || FoodService)(i0.ɵɵinject(i1.ApiService));\n};\n\nFoodService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FoodService,\n  factory: FoodService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAIA,SAASA,aAAT,QAA8B,MAA9B;;;AAIA,OAAM,MAAOC,WAAP,CAAkB;EAKtBC,YAAoBC,UAApB,EAA2C;IAAvB;IACpB,gBAAgB,EAAhB;EADgD;;EAHhDC,QAAQ;IACN,KAAKC,eAAL;EACD;;EAIKC,mBAAmB;IAAA;;IAAA;MACvB,IAAIC,IAAI,SAASP,aAAa,CAAC,KAAI,CAACG,UAAL,CAAgBE,eAAhB,EAAD,CAA9B,CADuB,CAEvB;MACA;MACA;MACA;;MACAG,OAAO,CAACC,GAAR,CAAYF,IAAZ;MAEA,OAAOA,IAAP;IARuB;EASxB;;EAEKF,eAAe;IAAA;;IAAA;MACnB,MAAM,MAAI,CAACC,mBAAL,EAAN;MACA,OAAO,MAAI,CAACI,QAAZ;IAFmB;EAGpB;;EACDC,WAAW,CAACC,EAAD,EAAW;IACpB,OAAO,KAAKF,QAAL,CAAcG,IAAd,CAAmBC,IAAI,IAAIA,IAAI,CAACF,EAAL,IAAWA,EAAtC,CAAP;EACD;;EACDG,eAAe,CAACC,GAAD,EAAY;IACzB,OAAOA,GAAG,IAAI,KAAP,GAAe,KAAKN,QAApB,GAA+B,KAAKA,QAAL,CAAcO,MAAd,CAAqBH,IAAI,IAAIA,IAAI,CAACI,IAAL,CAAUC,QAAV,CAAmBH,GAAG,CAACI,WAAJ,GAAkBC,IAAlB,EAAnB,CAA7B,CAAtC;EACD;;EACDC,SAAS;IACP;IACA,OAAO,CACL;MAAEC,IAAI,EAAE,KAAR;MAAeC,KAAK,EAAE;IAAtB,CADK,EAEL;MAAED,IAAI,EAAE,QAAR;MAAkBC,KAAK,EAAE;IAAzB,CAFK,EAGL;MAAED,IAAI,EAAE,KAAR;MAAeC,KAAK,EAAE;IAAtB,CAHK,EAIL;MAAED,IAAI,EAAE,cAAR;MAAwBC,KAAK,EAAE;IAA/B,CAJK,EAKL;MAAED,IAAI,EAAE,UAAR;MAAoBC,KAAK,EAAE;IAA3B,CALK,CAAP;EAOD;;AAtCqB;;;mBAAXvB,aAAWwB;AAAA;;;SAAXxB;EAAWyB,SAAXzB,WAAW;EAAA0B,YAFV","names":["lastValueFrom","FoodService","constructor","apiService","ngOnInit","getAllFoodItems","getAllFoodItemsSync","data","console","log","foodList","getFoodById","id","find","food","getAllFoodByTag","tag","filter","tags","includes","toLowerCase","trim","getAllTag","name","count","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Asus\\Desktop\\Tomato\\src\\app\\services\\food\\food.service.ts"],"sourcesContent":["import { Injectable, OnInit } from '@angular/core';\nimport { Food } from 'src/app/shared/models/food';\nimport { Tag } from 'src/app/shared/models/Tag';\nimport { ApiService } from '../api/api.service';\nimport { lastValueFrom } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class FoodService implements OnInit{\n\n  ngOnInit() : void{\n    this.getAllFoodItems();\n  }\n  constructor(private apiService : ApiService) { }\n  foodList:Food[]=[]\n\n  async getAllFoodItemsSync(){\n    let data = await lastValueFrom(this.apiService.getAllFoodItems());\n    // console.log(this.data);\n    // data=await data.json();\n    // this.foodList=data;\n    // console.log(this.foodList);\n    console.log(data);\n    \n    return data;\n  }\n\n  async getAllFoodItems(){\n    await this.getAllFoodItemsSync();\n    return this.foodList;\n  }\n  getFoodById(id: number): Food {\n    return this.foodList.find(food => food.id == id)!;\n  }\n  getAllFoodByTag(tag: string): Food[] {\n    return tag == 'All' ? this.foodList : this.foodList.filter(food => food.tags.includes(tag.toLowerCase().trim()));\n  }\n  getAllTag(): Tag[] {\n    // REST API Call\n    return [\n      { name: 'All', count: 8 },\n      { name: 'NonVeg', count: 2 },\n      { name: 'Veg', count: 2 },\n      { name: 'South Indian', count: 1 },\n      { name: 'Birthday', count: 2 }\n    ];\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}