{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Asus/Desktop/Tomato/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../food/food.service\";\nexport class TagsService {\n  constructor(foodService) {\n    this.foodService = foodService;\n    this.foodItems = [];\n    this.tagMap = {};\n  }\n\n  ngOnInit() {\n    this.getFoodItems();\n  }\n\n  getFoodItems() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.foodService.getAllFoodItemsSync().then(resp => {\n        _this.foodItems = resp;\n      });\n    })();\n  }\n\n  getAllTags() {\n    // Admins will allow some mostly searched tags: eg show the mostly searched 5 tags\n    // Solely on the discretionary of the admins:\n    console.log(this.foodItems);\n\n    for (let food of this.foodItems) {\n      for (let tag of food['tags']) {\n        this.tagMap[tag.toLowerCase()]++;\n      }\n    }\n\n    console.log(this.tagMap);\n    return [{\n      name: 'All',\n      count: 8\n    }, {\n      name: 'NonVeg',\n      count: 2\n    }, {\n      name: 'Veg',\n      count: 2\n    }, {\n      name: 'South Indian',\n      count: 1\n    }, {\n      name: 'Birthday',\n      count: 2\n    }];\n  }\n\n}\n\nTagsService.ɵfac = function TagsService_Factory(t) {\n  return new (t || TagsService)(i0.ɵɵinject(i1.FoodService));\n};\n\nTagsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TagsService,\n  factory: TagsService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;AAQA,OAAM,MAAOA,WAAP,CAAkB;EAEtBC,YAAoBC,WAApB,EAA6C;IAAzB;IACpB,iBAAmB,EAAnB;IACA,cAAQ,EAAR;EAFkD;;EAIlDC,QAAQ;IACN,KAAKC,YAAL;EACD;;EACKA,YAAY;IAAA;;IAAA;MAChB,MAAM,KAAI,CAACF,WAAL,CAAiBG,mBAAjB,GAAuCC,IAAvC,CAA6CC,IAAD,IAAQ;QACxD,KAAI,CAACC,SAAL,GAAeD,IAAf;MACD,CAFK,CAAN;IADgB;EAIjB;;EACDE,UAAU;IACR;IACA;IACAC,OAAO,CAACC,GAAR,CAAY,KAAKH,SAAjB;;IAEA,KAAI,IAAII,IAAR,IAAgB,KAAKJ,SAArB,EAA+B;MAC7B,KAAI,IAAIK,GAAR,IAAeD,IAAI,CAAC,MAAD,CAAnB,EAA4B;QAC1B,KAAKE,MAAL,CAAYD,GAAG,CAACE,WAAJ,EAAZ;MACD;IACF;;IACDL,OAAO,CAACC,GAAR,CAAY,KAAKG,MAAjB;IAEA,OAAO,CACL;MAAEE,IAAI,EAAE,KAAR;MAAeC,KAAK,EAAE;IAAtB,CADK,EAEL;MAAED,IAAI,EAAE,QAAR;MAAkBC,KAAK,EAAE;IAAzB,CAFK,EAGL;MAAED,IAAI,EAAE,KAAR;MAAeC,KAAK,EAAE;IAAtB,CAHK,EAIL;MAAED,IAAI,EAAE,cAAR;MAAwBC,KAAK,EAAE;IAA/B,CAJK,EAKL;MAAED,IAAI,EAAE,UAAR;MAAoBC,KAAK,EAAE;IAA3B,CALK,CAAP;EAOD;;AAjCqB;;;mBAAXjB,aAAWkB;AAAA;;;SAAXlB;EAAWmB,SAAXnB,WAAW;EAAAoB,YAFV","names":["TagsService","constructor","foodService","ngOnInit","getFoodItems","getAllFoodItemsSync","then","resp","foodItems","getAllTags","console","log","food","tag","tagMap","toLowerCase","name","count","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Asus\\Desktop\\Tomato\\src\\app\\services\\tags\\tags.service.ts"],"sourcesContent":["import { Injectable, OnInit } from '@angular/core';\nimport { Tag } from 'src/app/shared/models/Tag';\nimport { FoodService } from '../food/food.service';\nimport { Food } from 'src/app/shared/models/food';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TagsService implements OnInit{\n\n  constructor(private foodService : FoodService) { }\n  foodItems:Food[] = [];\n  tagMap ={};\n  \n  ngOnInit(): void {\n    this.getFoodItems();\n  }\n  async getFoodItems(){\n    await this.foodService.getAllFoodItemsSync().then((resp)=>{\n      this.foodItems=resp;\n    })\n  }\n  getAllTags() : Tag[]{\n    // Admins will allow some mostly searched tags: eg show the mostly searched 5 tags\n    // Solely on the discretionary of the admins:\n    console.log(this.foodItems);\n    \n    for(let food of this.foodItems){\n      for(let tag of food['tags']){\n        this.tagMap[tag.toLowerCase()]++;\n      }\n    }\n    console.log(this.tagMap);\n    \n    return [\n      { name: 'All', count: 8 },\n      { name: 'NonVeg', count: 2 },\n      { name: 'Veg', count: 2 },\n      { name: 'South Indian', count: 1 },\n      { name: 'Birthday', count: 2 }\n    ];\n  }\n}\n"]},"metadata":{},"sourceType":"module"}