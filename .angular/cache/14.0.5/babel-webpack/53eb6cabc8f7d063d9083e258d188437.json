{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Asus/Desktop/Tomato/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/foodcart/foodcart.service\";\nimport * as i2 from \"../services/food/food.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/card\";\nimport * as i11 from \"@angular/material/badge\";\nimport * as i12 from \"../tags/tags.component\";\nimport * as i13 from \"../not-found/not-found.component\";\n\nfunction HomeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.getClickedCardData(food_r1));\n    });\n    i0.ɵɵelementStart(1, \"mat-card\", 9)(2, \"div\", 10)(3, \"mat-card-header\")(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-card-subtitle\")(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelement(10, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"div\", 6)(13, \"div\", 14)(14, \"button\", 15);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"a\")(18, \"mat-icon\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_mat_icon_click_18_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.navToCartPage());\n    });\n    i0.ɵɵtext(19, \"add_shopping_cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"mat-icon\", 18);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_mat_icon_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.incClickedCardCount(food_r1));\n    });\n    i0.ɵɵtext(21, \"keyboard_arrow_up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-icon\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_mat_icon_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.decClickedCardCount(food_r1));\n    });\n    i0.ɵɵtext(23, \"keyboard_arrow_down\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const food_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(food_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", food_r1.stars, \"*\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", food_r1.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Price : \\u20B9\", food_r1.price, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matBadge\", ctx_r0.getCartCount(food_r1));\n  }\n}\n\nexport class HomeComponent {\n  constructor(foodCartService, foodService, router) {\n    this.foodCartService = foodCartService;\n    this.foodService = foodService;\n    this.router = router;\n    this.foods = [];\n    this.searchKey = new FormControl('');\n    this.foodCartList = [];\n    this.key = '';\n  }\n\n  ngOnInit() {\n    this.initFoodItems();\n    this.foodCartList = this.foodCartService.getCartItems();\n  }\n\n  initFoodItems() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(\"In Home Component\");\n      yield _this.foodService.getAllFoodItemsSync().then(resp => {\n        _this.foods = resp;\n      });\n    })();\n  }\n\n  getClickedCardData(food) {\n    console.log(food);\n  }\n\n  incClickedCardCount(food) {\n    console.log(\"Increase\");\n\n    for (let foodCartItem of this.foodCartList) {\n      if (foodCartItem.food.id == food.id) {\n        foodCartItem.quantity += 1;\n      }\n    } // console.log(this.foodCartList);\n\n\n    this.navToCartPage();\n  }\n\n  decClickedCardCount(food) {\n    console.log(\"Decrease\");\n\n    for (let foodCartItem of this.foodCartList) {\n      if (foodCartItem.food.id == food.id) {\n        foodCartItem.quantity -= 1;\n        if (foodCartItem.quantity < 0) foodCartItem.quantity = 0;\n      }\n    } // console.log(this.foodCartList);\n\n\n    this.navToCartPage();\n  }\n\n  navToCartPage() {\n    // this.emitCartList.emit(this.foodCartList);\n    // Need To Use Service Because Of Router Outlet\n    this.foodCartService.setCartItems(this.foodCartList);\n  }\n\n  getCartCount(food) {\n    for (let foodCartItem of this.foodCartList) {\n      if (foodCartItem.food.id == food.id) {\n        return foodCartItem.quantity;\n      }\n    }\n\n    return 0;\n  }\n\n  filterFoodItems(event) {\n    console.log(event); // console.log(this.searchKey.value);\n\n    console.log(this.key);\n    this.foodCartList.filter(item => {\n      return item.food.name.toLowerCase().replace(/\\s+/g, \"\").includes(this.key.toLowerCase());\n    });\n    this.foods.filter(item => {\n      return item.name.toLowerCase().replace(/\\s+/g, \"\").includes(this.key.toLowerCase());\n    });\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.FoodcartService), i0.ɵɵdirectiveInject(i2.FoodService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[1, \"container\", \"text-center\", \"mt-3\"], [\"appearance\", \"outline\", 1, \"search-bar\"], [\"matInput\", \"\", \"placeholder\", \"Enter Item To Search\", 3, \"ngModel\", \"formControl\", \"ngModelChange\", \"change\"], [\"matSuffix\", \"\", \"fontIcon\", \"search\"], [3, \"visible\"], [1, \"container\", \"mt-4\"], [1, \"row\"], [\"class\", \"col-4 mt-3\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-4\", \"mt-3\", 3, \"click\"], [1, \"example-card\"], [1, \"food-header\"], [1, \"food-image\"], [\"mat-card-image\", \"\", \"alt\", \"Sorry, Not Able To Render\", 3, \"src\"], [1, \"food-actions\", \"mt-4\", \"text-center\"], [1, \"col-4\"], [\"mat-raised-button\", \"\", \"color\", \"primary\"], [1, \"col-8\", \"text-right\", \"mt-2\"], [\"matBadgeColor\", \"warn\", 1, \"zoom\", 3, \"matBadge\", \"click\"], [1, \"ml-1\", \"zoom\", 3, \"click\"], [1, \"zoom\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-form-field\", 1)(2, \"mat-label\");\n      i0.ɵɵtext(3, \"Eat What?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.key = $event;\n      })(\"change\", function HomeComponent_Template_input_change_4_listener() {\n        return ctx.filterFoodItems();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"mat-icon\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(6, \"app-tags\")(7, \"app-not-found\", 4);\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6);\n      i0.ɵɵtemplate(10, HomeComponent_div_10_Template, 24, 5, \"div\", 7);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.key)(\"formControl\", ctx.searchKey);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"visible\", !ctx.foods || ctx.foods.length <= 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.foods);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlDirective, i6.MatFormField, i6.MatLabel, i6.MatSuffix, i7.MatInput, i8.MatButton, i9.MatIcon, i10.MatCard, i10.MatCardHeader, i10.MatCardTitle, i10.MatCardSubtitle, i10.MatCardImage, i11.MatBadge, i12.TagsComponent, i13.NotFoundComponent],\n  styles: [\"ul[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-wrap: wrap;\\n    list-style-type: none;\\n}\\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n    height: 20rem;\\n    width: 20rem;\\n    border: 1px solid whitesmoke;\\n    border-radius: 1rem;\\n    margin: 0.5rem;\\n    display: flex;\\n    flex-direction: column;\\n    overflow: hidden;\\n    color: #e72929;\\n}\\nli[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\n    opacity: 0.7;\\n    cursor: pointer;\\n}\\n.content[_ngcontent-%COMP%]{\\n    padding: .5rem 1rem;\\n    position: relative;\\n}\\n.search-bar[_ngcontent-%COMP%]{\\n    min-width: 60%;\\n    \\n}\\n.example-card[_ngcontent-%COMP%] {\\n    height: 400px;\\n    max-width: 400px;\\n    border-radius: 5px;\\n}\\n\\n\\n\\n\\n.food-header[_ngcontent-%COMP%]{\\n    height: 75px;\\n}\\n.food-image[_ngcontent-%COMP%]{\\n    height: 250px;\\n}\\n.food-actions[_ngcontent-%COMP%]{\\n    height: 75px;\\n}\\nimg[_ngcontent-%COMP%]{\\n    height: 250px;\\n}\\n\\n\\na[_ngcontent-%COMP%]{\\n    cursor: pointer;\\n  }\\n.zoom[_ngcontent-%COMP%] {\\n    \\n    \\n    transition: transform .2s; \\n    \\n    \\n    margin: 0 auto;\\n  }\\n.zoom[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.5); \\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixxQkFBcUI7QUFDekI7QUFDQTtJQUNJLGFBQWE7SUFDYixZQUFZO0lBQ1osNEJBQTRCO0lBQzVCLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixnQkFBZ0I7SUFDaEIsY0FBYztBQUNsQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7QUFDQTtJQUNJLG1CQUFtQjtJQUNuQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCO0FBRUEsNEJBQTRCO0FBQ3hCLHlGQUF5RjtBQUN6Riw0QkFBNEI7QUFDaEMsTUFBTTtBQUNOO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjtBQUNBOzs7O0tBSUs7QUFFSDs7S0FFRztBQUVIO0lBQ0UsZUFBZTtFQUNqQjtBQUVBO0lBQ0UsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3Qix5QkFBeUIsRUFBRSxjQUFjO0lBQ3pDLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsY0FBYztFQUNoQjtBQUVBO0lBQ0UscUJBQXFCLEVBQUUscUZBQXFGO0VBQzlHIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInVse1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xufVxudWwgbGkgYXtcbiAgICBoZWlnaHQ6IDIwcmVtO1xuICAgIHdpZHRoOiAyMHJlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZXNtb2tlO1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gICAgbWFyZ2luOiAwLjVyZW07XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgY29sb3I6ICNlNzI5Mjk7XG59XG5saSBhOmhvdmVye1xuICAgIG9wYWNpdHk6IDAuNztcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uY29udGVudHtcbiAgICBwYWRkaW5nOiAuNXJlbSAxcmVtO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnNlYXJjaC1iYXJ7XG4gICAgbWluLXdpZHRoOiA2MCU7XG4gICAgLyogd2lkdGg6IGF1dG87ICovXG59XG4uZXhhbXBsZS1jYXJkIHtcbiAgICBoZWlnaHQ6IDQwMHB4O1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4vKiAuZXhhbXBsZS1oZWFkZXItaW1hZ2UgeyAqL1xuICAgIC8qIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnaHR0cHM6Ly9tYXRlcmlhbC5hbmd1bGFyLmlvL2Fzc2V0cy9pbWcvZXhhbXBsZXMvc2hpYmExLmpwZycpOyAqL1xuICAgIC8qIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICovXG4vKiB9ICovXG4uZm9vZC1oZWFkZXJ7XG4gICAgaGVpZ2h0OiA3NXB4O1xufVxuLmZvb2QtaW1hZ2V7XG4gICAgaGVpZ2h0OiAyNTBweDtcbn1cbi5mb29kLWFjdGlvbnN7XG4gICAgaGVpZ2h0OiA3NXB4O1xufVxuaW1ne1xuICAgIGhlaWdodDogMjUwcHg7XG59XG4vKiA6aG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICB9ICovXG4gIFxuICAvKiAuZGVtby1zZWN0aW9uICsgLmRlbW8tc2VjdGlvbiB7XG4gICAgbWFyZ2luLXRvcDogMTZweDtcbiAgfSAqL1xuXG4gIGF7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgLnpvb20ge1xuICAgIC8qIHBhZGRpbmc6IDUwcHg7ICovXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47ICovXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4yczsgLyogQW5pbWF0aW9uICovXG4gICAgLyogd2lkdGg6IDIwMHB4OyAqL1xuICAgIC8qIGhlaWdodDogMjAwcHg7ICovXG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cbiAgXG4gIC56b29tOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7IC8qICgxNTAlIHpvb20gLSBOb3RlOiBpZiB0aGUgem9vbSBpcyB0b28gbGFyZ2UsIGl0IHdpbGwgZ28gb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQpICovXG4gIH0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","i0","HomeComponent","constructor","foodCartService","foodService","router","ngOnInit","initFoodItems","foodCartList","getCartItems","console","log","getAllFoodItemsSync","then","resp","foods","getClickedCardData","food","incClickedCardCount","foodCartItem","id","quantity","navToCartPage","decClickedCardCount","setCartItems","getCartCount","filterFoodItems","event","key","filter","item","name","toLowerCase","replace","includes","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Asus\\Desktop\\Tomato\\src\\app\\home\\home.component.ts","C:\\Users\\Asus\\Desktop\\Tomato\\src\\app\\home\\home.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit } from '@angular/core';\nimport { FoodService } from '../services/food/food.service';\nimport { Food } from '../shared/models/food';\nimport { ActivatedRoute } from '@angular/router';\nimport { CartItem } from '../shared/models/CartItem';\nimport { FoodcartService } from '../services/foodcart/foodcart.service';\nimport { Output } from '@angular/core';\nimport { Cart } from '../shared/models/Cart';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  foods: Food[] = [];\n  searchKey = new FormControl('');\n  foodCartList : CartItem[]=[];\n  key : string ='';\n\n  constructor(private foodCartService : FoodcartService,private foodService: FoodService, private router: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.initFoodItems();\n    this.foodCartList=this.foodCartService.getCartItems();\n  }\n\n  async initFoodItems(){\n    console.log(\"In Home Component\");\n    await this.foodService.getAllFoodItemsSync().then(resp=>{\n      this.foods=resp;\n    })\n  }\n\n  getClickedCardData(food : any){\n    console.log(food);\n  }\n\n  incClickedCardCount(food : any){\n    console.log(\"Increase\");\n    for(let foodCartItem of this.foodCartList){\n      if(foodCartItem.food.id==food.id){\n        foodCartItem.quantity+=1;\n      }\n    }\n    // console.log(this.foodCartList);\n    this.navToCartPage();\n  }\n\n  decClickedCardCount(food : any){\n    console.log(\"Decrease\");\n    for(let foodCartItem of this.foodCartList){\n      if(foodCartItem.food.id==food.id){\n        foodCartItem.quantity-=1;\n        if(foodCartItem.quantity<0)foodCartItem.quantity=0;\n      }\n    }\n    // console.log(this.foodCartList);\n    this.navToCartPage();\n  }\n\n  navToCartPage(){\n    // this.emitCartList.emit(this.foodCartList);\n    // Need To Use Service Because Of Router Outlet\n    this.foodCartService.setCartItems(this.foodCartList);\n  }\n\n  getCartCount(food : any){\n    for(let foodCartItem of this.foodCartList){\n      if(foodCartItem.food.id==food.id){\n        return foodCartItem.quantity;\n      }\n    }\n    return 0;\n  }\n\n  filterFoodItems(event : any){\n    console.log(event);\n    \n    // console.log(this.searchKey.value);\n    console.log(this.key);\n    \n    this.foodCartList.filter((item)=>{\n      return item.food.name.toLowerCase().replace(/\\s+/g, \"\").includes(this.key.toLowerCase())\n    })\n    this.foods.filter((item)=>{\n      return item.name.toLowerCase().replace(/\\s+/g, \"\").includes(this.key.toLowerCase())\n    })\n\n  }\n}\n","<!-- <app-search></app-search> -->\n\n<!-- Search -->\n<div class=\"container text-center mt-3\">\n    <mat-form-field appearance=\"outline\" class=\"search-bar\">\n        <mat-label>Eat What?</mat-label>\n        <input matInput placeholder=\"Enter Item To Search\" [(ngModel)]=\"key\" [formControl]=\"searchKey\" (change)=\"filterFoodItems()\">\n        <mat-icon matSuffix fontIcon=\"search\"></mat-icon>\n    </mat-form-field>   \n</div>\n\n<app-tags></app-tags>\n\n<app-not-found [visible]=\"!foods || foods.length<= 0\"> </app-not-found>\n\n<!-- <ul>\n    <li *ngFor=\"let food of foods\">\n        <a routerLink=\"/food/{{food.id}}\">\n            <img src=\"{{food.imageUrl}}\" alt=\"foodimages\">\n            <div class=\"content\">\n                <div style=\"color: blue\" class=\"name\">\n                    {{food.name}}\n                </div>\n                <div class=\"price\">\n                    Price : {{food.price}}\n                </div>\n                <div style=\"color: rgb(94, 94, 29);\" class=\"stars\">\n                    {{food.stars}}⭑\n                </div>\n            </div>\n        </a>\n    </li>\n</ul> -->\n<div class=\"container mt-4\">\n    <div class=\"row\">\n        <div class=\"col-4 mt-3\" *ngFor=\"let food of foods\" (click)=\"getClickedCardData(food)\">\n            <mat-card class=\"example-card\">\n                <div class=\"food-header\">\n                    <mat-card-header>\n                        <mat-card-title>{{food.name}}</mat-card-title>\n                        <mat-card-subtitle><strong>{{food.stars}}*</strong></mat-card-subtitle>\n                      </mat-card-header>      \n                </div>\n                <div class=\"food-image\">\n                    <img mat-card-image src={{food.imageUrl}} alt=\"Sorry, Not Able To Render\">\n                </div>\n                <!-- <div class=\"food-content\">\n                    <mat-card-content>\n                        <p>\n                          {{food.origins}}\n                        </p>\n                      </mat-card-content>      \n                </div> -->\n                <div class=\"food-actions mt-4 text-center\">\n                            <div class=\"row\">\n                                <div class=\"col-4\">\n                                    <button mat-raised-button color=\"primary\">Price : ₹{{food.price}}</button>\n                                </div>  \n                                <div class=\"col-8 text-right mt-2\">\n                                    <a>\n                                        <mat-icon class=\"zoom\" [matBadge]=\"getCartCount(food)\" matBadgeColor=\"warn\" (click)=\"navToCartPage()\">add_shopping_cart</mat-icon>\n                                        <!-- <mat-icon class=\"ml-3\">add_circle_outline</mat-icon> -->\n                                        <mat-icon class=\"ml-1 zoom\" (click)=\"incClickedCardCount(food)\">keyboard_arrow_up</mat-icon>\n                                        <mat-icon class=\"zoom\" (click)=\"decClickedCardCount(food)\">keyboard_arrow_down</mat-icon>\n                                    </a>\n                                </div>\n                            </div>    \n                </div>\n              </mat-card>                \n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}